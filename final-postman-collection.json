{
  "info": {
    "name": "E-Signature API - Simplified API Key Management",
    "description": "Complete API collection for E-Signature application with simplified API key management, template processing, Adobe Sign integration, and comprehensive workflow management.\n\nüîë **SIMPLIFIED API KEY AUTHENTICATION:**\n‚Ä¢ Admin-only API key management - no organization complexity\n‚Ä¢ Generate admin key with `node generate-api-keys.js`\n‚Ä¢ Create keys for different people/products using admin key\n‚Ä¢ Built-in key rotation, expiration, and permission management\n\nÔøΩ **API KEY MANAGEMENT FEATURES:**\n‚Ä¢ ‚úÖ Create API Key - Generate keys for users/products\n‚Ä¢ ‚úÖ List All Keys - View and filter all API keys\n‚Ä¢ ‚úÖ Rotate Keys - Generate new key values for security\n‚Ä¢ ‚úÖ Update Keys - Modify permissions and properties\n‚Ä¢ ‚úÖ Delete Keys - Deactivate unused keys\n‚Ä¢ ‚úÖ Key Statistics - Monitor usage and performance\n\nüöÄ **UNIFIED DOCUMENT WORKFLOW:**\n‚Ä¢ Single endpoint for upload, preparation, and sending\n‚Ä¢ Auto-extract recipients from JSON template data\n‚Ä¢ Process template variables in DOCX files\n‚Ä¢ Real-time Adobe Sign integration\n‚Ä¢ Generate and store signing URLs\n\nüîÑ **TRANSACTION MANAGEMENT:**\n‚Ä¢ Complete transaction tracking system\n‚Ä¢ Monitor participant status and progress\n‚Ä¢ Send automated reminders\n‚Ä¢ Generate analytics and reports\n‚Ä¢ Bulk operations support\n\nüîî **WEBHOOK INTEGRATION:**\n‚Ä¢ Real-time status updates from Adobe Sign\n‚Ä¢ Automatic signature timestamp recording\n‚Ä¢ Support for multiple webhook events\n\nüíæ **DATABASE:**\n‚úÖ MongoDB Atlas integration\n‚úÖ Persistent data storage\n‚úÖ Enhanced error handling\n‚úÖ Simplified schema without organization complexity",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000"
    },
    {
      "key": "apiKey",
      "value": "",
      "description": "Admin API Key for authentication - Generate using node generate-api-keys.js"
    },
    {
      "key": "newApiKey",
      "value": "",
      "description": "Newly created API key for testing"
    },
    {
      "key": "testKeyId",
      "value": "",
      "description": "Key ID for testing API key operations"
    },
    {
      "key": "documentId",
      "value": ""
    },
    {
      "key": "signingUrl",
      "value": ""
    },
    {
      "key": "recipientEmail",
      "value": "john.smith@example.com"
    },
    {
      "key": "webhookUrl",
      "value": "https://your-domain.com/api/webhooks/adobe-sign",
      "description": "The URL where Adobe Sign will send webhook events"
    },
    {
      "key": "transactionId",
      "value": "",
      "description": "Transaction ID for testing transaction endpoints"
    },
    {
      "key": "testDocumentId",
      "value": "6847d0db67d1eb1ee26ea190",
      "description": "Sample document ID for transaction testing"
    }
  ],
  "item": [
    {
      "name": "Health Checks",
      "description": "üè• **HEALTH CHECK ENDPOINTS**\n\nMonitor the health and status of your E-Signature API and its integrations.\n\nüìã **Available Health Checks:**\n‚Ä¢ Server Health - Basic server information and uptime\n‚Ä¢ Adobe Sign Health - Test Adobe Sign API connectivity and configuration\n\n‚úÖ **Key Features:**\n‚Ä¢ Real-time status monitoring\n‚Ä¢ Integration health verification\n‚Ä¢ API connectivity testing\n‚Ä¢ System diagnostics\n\n‚ö†Ô∏è **Important:** These endpoints help ensure your system is running properly and can communicate with Adobe Sign services.",
      "item": [
        {
          "name": "Server Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('‚úÖ Server health check successful');",
                  "    console.log('üöÄ Status:', response.status);",
                  "    console.log('üìä Environment:', response.environment);",
                  "    console.log('‚è±Ô∏è Uptime:', response.uptime);",
                  "    console.log('üïê Timestamp:', response.timestamp);",
                  "    if (response.version) {",
                  "        console.log('üîñ Version:', response.version);",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Server health check failed');",
                  "    console.log('üîç Response:', pm.response.text());",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/",
            "description": "üè• **Server Health Check**\n\nBasic health check for the E-Signature API server.\n\n‚úÖ **What it checks:**\n‚Ä¢ Server is running and responding\n‚Ä¢ Basic server information\n‚Ä¢ Application uptime\n‚Ä¢ Environment details\n\nüìã **Response includes:**\n‚Ä¢ Status (healthy/unhealthy)\n‚Ä¢ Server uptime\n‚Ä¢ Environment (development/production)\n‚Ä¢ Current timestamp\n‚Ä¢ Version information (if available)\n\n‚ö†Ô∏è **Note:** This endpoint does not require authentication and provides basic server status information."
          }
        },
        {
          "name": "Adobe Sign Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('‚úÖ Adobe Sign health check successful');",
                  "    console.log('üîó Status:', response.status);",
                  "    console.log('üåê Base URL:', response.baseUrl);",
                  "    console.log('üîë API Key Status:', response.apiKeyStatus);",
                  "    console.log('üìä Connection Status:', response.connectionStatus);",
                  "    console.log('‚è±Ô∏è Response Time:', response.responseTime + 'ms');",
                  "    console.log('üïê Timestamp:', response.timestamp);",
                  "    if (response.userInfo) {",
                  "        console.log('üë§ User Info:', response.userInfo);",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Adobe Sign health check failed');",
                  "    const response = pm.response.json();",
                  "    console.log('üîç Error:', response.message);",
                  "    if (response.details) {",
                  "        console.log('üìã Details:', response.details);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": "{{baseUrl}}/api/enhanced/adobe-sign/health",
            "description": "üè• **Adobe Sign Health Check**\n\nComprehensive health check for Adobe Sign API integration.\n\n‚úÖ **What it checks:**\n‚Ä¢ Adobe Sign API connectivity\n‚Ä¢ API key validity and permissions\n‚Ä¢ Base URL configuration\n‚Ä¢ Service response time\n‚Ä¢ User account information\n\nüìã **Response includes:**\n‚Ä¢ Overall health status\n‚Ä¢ Adobe Sign base URL\n‚Ä¢ API key validation status\n‚Ä¢ Connection test results\n‚Ä¢ Response time measurements\n‚Ä¢ User account details (if accessible)\n\n‚ö†Ô∏è **Authentication Required:** This endpoint requires a valid API key to test Adobe Sign integration.\n\nüîß **Troubleshooting:**\n‚Ä¢ If this fails, check your Adobe Sign API configuration\n‚Ä¢ Verify your API key is valid and has proper permissions\n‚Ä¢ Ensure Adobe Sign base URL is correct"
          }
        }
      ]
    },
    {
      "name": "API Key Management",
      "description": "üîë **API KEY AUTHENTICATION**\n\nThis system uses API Key authentication exclusively. All endpoints require an API key.\n\nüìã **How to get an API key:**\n1. Run `node generate-api-keys.js` in your project directory to generate an admin key\n2. Use the admin API key to create additional keys for different people and products\n3. Set the API key in the collection variable `{{apiKey}}`\n\n‚úÖ **Authentication Methods:**\n‚Ä¢ Header: `X-API-Key: your_api_key`\n‚Ä¢ Authorization Header: `Authorization: Bearer your_api_key`\n‚Ä¢ Query Parameter: `?api_key=your_api_key`\n\n‚ö†Ô∏è **Important:** \n‚Ä¢ Keep your API keys secure and never commit them to version control\n‚Ä¢ Only admin API keys can manage other API keys\n‚Ä¢ Rotate keys regularly for security",
      "item": [
        {
          "name": "Create API Key",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.apiKey) {",
                  "        console.log('‚úÖ API Key created successfully');",
                  "        console.log('üîë API Key:', response.data.apiKey);",
                  "        console.log('üìã Name:', response.data.name);",
                  "        console.log('üë§ Assigned To:', response.data.assignedTo);",
                  "        console.log('üîê Permissions:', response.data.permissions.join(', '));",
                  "        ",
                  "        // Save the API key to collection variable for testing",
                  "        pm.collectionVariables.set('newApiKey', response.data.apiKey);",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to create API key:', pm.response.json().message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "Admin API key required to create new keys"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Document Manager Key\",\n  \"description\": \"API key for document management operations\",\n  \"assignedTo\": \"John Smith - Sales Team\",\n  \"permissions\": [\"documents:read\", \"documents:write\", \"documents:send\"],\n  \"environment\": \"production\",\n  \"expiresIn\": \"365d\",\n  \"rateLimit\": {\n    \"requestsPerMinute\": 100,\n    \"requestsPerHour\": 1000\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/auth/api-keys",
            "description": "**Create a new API key** (Admin only)\n\nCreate API keys for different people or products with specific permissions.\n\n‚úÖ **Required Fields:**\n‚Ä¢ `name` - Descriptive name for the API key\n\nüìã **Optional Fields:**\n‚Ä¢ `description` - Purpose of the API key\n‚Ä¢ `assignedTo` - Person or product this key is for\n‚Ä¢ `permissions` - Array of permissions\n‚Ä¢ `environment` - development, staging, or production\n‚Ä¢ `expiresIn` - Expiration time (e.g., \"30d\", \"1y\")\n‚Ä¢ `rateLimit` - Request rate limits\n\n‚ö†Ô∏è **Admin Access Required:** Only users with admin API keys can create new keys."
          }
        },
        {
          "name": "List All API Keys",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.apiKeys) {",
                  "        console.log('‚úÖ API Keys retrieved successfully');",
                  "        console.log('üìä Total Keys:', response.data.pagination.totalItems);",
                  "        console.log('üìÑ Page:', response.data.pagination.currentPage);",
                  "        console.log('');",
                  "        console.log('üìã API Keys:');",
                  "        response.data.apiKeys.forEach((key, index) => {",
                  "            console.log(`${index + 1}. ${key.name}`);",
                  "            console.log(`   üë§ Assigned To: ${key.assignedTo || 'Not specified'}`);",
                  "            console.log(`   üîê Permissions: ${key.permissions.join(', ')}`);",
                  "            console.log(`   üìä Status: ${key.isActive ? 'Active' : 'Inactive'}`);",
                  "            console.log(`   üïê Last Used: ${key.lastUsed ? new Date(key.lastUsed).toLocaleDateString() : 'Never'}`);",
                  "            console.log('');",
                  "        });",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to retrieve API keys:', pm.response.json().message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "Admin API key required"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/api-keys?page=1&limit=10&active=true",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "api-keys"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page"
                },
                {
                  "key": "active",
                  "value": "true",
                  "description": "Filter by active status"
                },
                {
                  "key": "assignedTo",
                  "value": "",
                  "description": "Filter by assigned person/product",
                  "disabled": true
                },
                {
                  "key": "environment",
                  "value": "",
                  "description": "Filter by environment",
                  "disabled": true
                }
              ]
            },
            "description": "**Retrieve all API keys** (Admin only)\n\nList all API keys with filtering and pagination options.\n\nüîç **Query Parameters:**\n‚Ä¢ `page` - Page number (default: 1)\n‚Ä¢ `limit` - Items per page (default: 10)\n‚Ä¢ `active` - Filter by active status\n‚Ä¢ `assignedTo` - Filter by assigned person/product\n‚Ä¢ `environment` - Filter by environment\n‚Ä¢ `search` - Search in name, keyId, or assignedTo\n\n‚ö†Ô∏è **Admin Access Required:** Only admin API keys can view all keys."
          }
        },
        {
          "name": "Get API Key Details",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.apiKey) {",
                  "        const key = response.data.apiKey;",
                  "        console.log('‚úÖ API Key details retrieved successfully');",
                  "        console.log('üìã Name:', key.name);",
                  "        console.log('üÜî Key ID:', key.keyId);",
                  "        console.log('üë§ Assigned To:', key.assignedTo || 'Not specified');",
                  "        console.log('üìù Description:', key.description || 'No description');",
                  "        console.log('üîê Permissions:', key.permissions.join(', '));",
                  "        console.log('üåç Environment:', key.environment);",
                  "        console.log('üìä Status:', key.isActive ? 'Active' : 'Inactive');",
                  "        console.log('üïê Created:', new Date(key.createdAt).toLocaleDateString());",
                  "        console.log('üìà Usage Count:', key.usageCount || 0);",
                  "        if (key.lastUsed) {",
                  "            console.log('‚è∞ Last Used:', new Date(key.lastUsed).toLocaleString());",
                  "        }",
                  "        if (key.expiresAt) {",
                  "            console.log('‚ö†Ô∏è Expires:', new Date(key.expiresAt).toLocaleDateString());",
                  "        }",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to retrieve API key details:', pm.response.json().message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "Admin API key required"
              }
            ],
            "url": "{{baseUrl}}/api/auth/api-keys/{{testKeyId}}",
            "description": "**Get detailed information about a specific API key** (Admin only)\n\nüìã **Returns:**\n‚Ä¢ Key metadata and configuration\n‚Ä¢ Usage statistics\n‚Ä¢ Permission and scope details\n‚Ä¢ Rate limit settings\n‚Ä¢ Expiration information\n\n‚ö†Ô∏è **Note:** The actual API key value is never returned for security reasons."
          }
        },
        {
          "name": "Rotate API Key",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.apiKey) {",
                  "        console.log('‚úÖ API Key rotated successfully');",
                  "        console.log('üîë New API Key:', response.data.apiKey);",
                  "        console.log('üÜî Key ID:', response.data.keyId);",
                  "        console.log('üìã Name:', response.data.name);",
                  "        console.log('üë§ Assigned To:', response.data.assignedTo);",
                  "        console.log('üîÑ Rotated At:', new Date(response.data.rotatedAt).toLocaleString());",
                  "        console.log('');",
                  "        console.log('‚ö†Ô∏è IMPORTANT:');",
                  "        console.log('‚Ä¢ The old API key is now invalid');",
                  "        console.log('‚Ä¢ Update all applications using this key');",
                  "        console.log('‚Ä¢ This is the only time the new key will be shown');",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to rotate API key:', pm.response.json().message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "Admin API key required"
              }
            ],
            "url": "{{baseUrl}}/api/auth/api-keys/{{testKeyId}}/rotate",
            "description": "**Rotate an API key** (Admin only)\n\nGenerate a new API key value while preserving all other key properties.\n\n‚úÖ **Use Cases:**\n‚Ä¢ Key may have been compromised\n‚Ä¢ Regular security rotation\n‚Ä¢ Key is expiring soon\n\nüîÑ **What happens:**\n‚Ä¢ New API key value is generated\n‚Ä¢ All metadata and permissions remain the same\n‚Ä¢ Old key becomes invalid immediately\n‚Ä¢ Rotation is logged for audit purposes\n\n‚ö†Ô∏è **Important:** Update all applications using the old key immediately."
          }
        },
        {
          "name": "Update API Key",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.apiKey) {",
                  "        console.log('‚úÖ API Key updated successfully');",
                  "        console.log('üìã Name:', response.data.apiKey.name);",
                  "        console.log('ÔøΩ Assigned To:', response.data.apiKey.assignedTo);",
                  "        console.log('üîê Permissions:', response.data.apiKey.permissions.join(', '));",
                  "        console.log('üìä Status:', response.data.apiKey.isActive ? 'Active' : 'Inactive');",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to update API key:', pm.response.json().message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "Admin API key required"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Document Manager Key\",\n  \"description\": \"Updated API key for enhanced document management\",\n  \"assignedTo\": \"Jane Smith - Marketing Team\",\n  \"permissions\": [\"documents:read\", \"documents:write\", \"documents:send\", \"documents:status\"],\n  \"isActive\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/auth/api-keys/{{testKeyId}}",
            "description": "**Update API key properties** (Admin only)\n\nüìù **Updatable Fields:**\n‚Ä¢ `name` - Key name\n‚Ä¢ `description` - Key description\n‚Ä¢ `assignedTo` - Person or product assigned\n‚Ä¢ `permissions` - Array of permissions\n‚Ä¢ `isActive` - Active/inactive status\n‚Ä¢ `allowedIPs` - IP restrictions\n‚Ä¢ `rateLimit` - Rate limiting settings\n‚Ä¢ `metadata` - Additional metadata\n\n‚ö†Ô∏è **Note:** The actual API key value cannot be changed - use rotate for that."
          }
        },
        {
          "name": "Delete API Key",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('‚úÖ API Key deleted successfully');",
                  "    console.log('üóëÔ∏è Key ID:', response.data.keyId);",
                  "    console.log('üìã The API key has been deactivated and is no longer valid');",
                  "    console.log('üîç The key data is preserved for audit purposes');",
                  "} else {",
                  "    console.log('‚ùå Failed to delete API key:', pm.response.json().message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "Admin API key required"
              }
            ],
            "url": "{{baseUrl}}/api/auth/api-keys/{{testKeyId}}",
            "description": "**Delete an API key** (Admin only)\n\nDeactivate an API key and make it unusable.\n\nüóëÔ∏è **What happens:**\n‚Ä¢ API key is marked as inactive\n‚Ä¢ Key becomes immediately unusable\n‚Ä¢ Key data is preserved for audit trails\n‚Ä¢ Deletion is logged with timestamp\n\n‚ö†Ô∏è **Use Cases:**\n‚Ä¢ Employee leaves the company\n‚Ä¢ Product is discontinued\n‚Ä¢ Key is no longer needed\n‚Ä¢ Security incident requires key revocation"
          }
        },
        {
          "name": "Get API Key Statistics",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.stats) {",
                  "        const stats = response.data.stats;",
                  "        console.log('‚úÖ API Key statistics retrieved successfully');",
                  "        console.log('');",
                  "        console.log('üìä USAGE STATISTICS:');",
                  "        console.log('üÜî Key ID:', stats.keyId);",
                  "        console.log('üìã Name:', stats.name);",
                  "        console.log('üë§ Assigned To:', stats.assignedTo || 'Not specified');",
                  "        console.log('üìà Total Usage:', stats.usageCount || 0);",
                  "        console.log('‚è∞ Last Used:', stats.lastUsed ? new Date(stats.lastUsed).toLocaleString() : 'Never');",
                  "        console.log('üïê Created:', new Date(stats.createdAt).toLocaleDateString());",
                  "        console.log('üìä Status:', stats.isActive ? 'Active' : 'Inactive');",
                  "        console.log('');",
                  "        console.log('üîê PERMISSIONS:');",
                  "        stats.permissions.forEach(perm => console.log('‚Ä¢ ' + perm));",
                  "        console.log('');",
                  "        console.log('‚ö° RATE LIMITS:');",
                  "        console.log('‚Ä¢ Per Minute:', stats.rateLimit.requestsPerMinute);",
                  "        console.log('‚Ä¢ Per Hour:', stats.rateLimit.requestsPerHour);",
                  "        if (stats.expiresAt) {",
                  "            console.log('');",
                  "            console.log('‚ö†Ô∏è EXPIRATION:');",
                  "            console.log('‚Ä¢ Expires:', new Date(stats.expiresAt).toLocaleDateString());",
                  "            if (stats.daysUntilExpiry !== null) {",
                  "                console.log('‚Ä¢ Days Until Expiry:', stats.daysUntilExpiry);",
                  "            }",
                  "        }",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to retrieve API key statistics:', pm.response.json().message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "Admin API key required"
              }
            ],
            "url": "{{baseUrl}}/api/auth/api-keys/{{testKeyId}}/stats",
            "description": "**Get detailed statistics for an API key** (Admin only)\n\nüìä **Statistics Include:**\n‚Ä¢ Usage count and patterns\n‚Ä¢ Last usage timestamp\n‚Ä¢ Rate limit configuration\n‚Ä¢ Permission analysis\n‚Ä¢ Expiration information\n‚Ä¢ Activity timeline\n\nüí° **Use Cases:**\n‚Ä¢ Monitor API key usage\n‚Ä¢ Identify inactive keys\n‚Ä¢ Plan for key rotation\n‚Ä¢ Audit access patterns\n‚Ä¢ Capacity planning"
          }
        }
      ]
    },
    {
      "name": "Document Management",
      "item": [
        {
          "name": "Upload, Prepare, and Send Document (Unified Endpoint)",
          "item": [
            {
              "name": "Method 1: File Upload + JSON File",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    const response = pm.response.json();",
                      "    if (response.data && response.data.document) {",
                      "        pm.collectionVariables.set('documentId', response.data.document._id);",
                      "        console.log('‚úÖ Method 1: File upload completed successfully');",
                      "        console.log('üìÑ Document ID:', response.data.document._id);",
                      "        console.log('üìä Adobe Sign Method:', response.data.method);",
                      "        console.log('üîó Upload Method:', response.data.uploadMethod);",
                      "        console.log('üìã Template Variables Processed:', response.data.templateVariablesProcessed);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  { "key": "X-API-Key", "value": "{{apiKey}}", "description": "API Key for authentication" }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    { "key": "document", "type": "file", "src": [], "description": "üìÑ Upload your DOCX, PDF, or DOC file" },
                    { "key": "data", "type": "file", "src": [], "description": "üìÑ Upload JSON file with template data and recipient info" },
                    { "key": "signingFlow", "value": "SEQUENTIAL", "type": "text", "description": "üìã Optional: SEQUENTIAL or PARALLEL signing flow" }
                  ]
                },
                "url": "{{baseUrl}}/api/documents/upload-and-send",
                "description": "**Method 1: File Upload + JSON Data File**\n\nUpload document files directly from your computer.\n\nüìÑ **How to use:**\n1. Upload your document file (PDF, DOCX, DOC)\n2. Upload a JSON file containing template data and recipients\n3. Click Send\n\n‚úÖ **Perfect for:** Traditional file upload workflows"
              }
            },
            {
              "name": "Method 2: Document URL + Inline JSON",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    const response = pm.response.json();",
                      "    if (response.data && response.data.document) {",
                      "        pm.collectionVariables.set('documentId', response.data.document._id);",
                      "        console.log('‚úÖ Method 3: URL + inline JSON completed successfully');",
                      "        console.log('üìÑ Document ID:', response.data.document._id);",
                      "        console.log('üìä Adobe Sign Method:', response.data.method);",
                      "        console.log('üîó Upload Method:', response.data.uploadMethod);",
                      "        console.log('üìã Template Variables Processed:', response.data.templateVariablesProcessed);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  { "key": "X-API-Key", "value": "{{apiKey}}", "description": "API Key for authentication" },
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"documentUrl\": \"https://docs.google.com/document/d/1oC0q7y8_FbJmckQiU73lun4W5k1E4qmz/edit?usp=sharing&ouid=117769269345574843932&rtpof=true&sd=true\",\n  \"jsonData\": {\n    \"agreementDate\": \"June 12, 2025\",\n    \"agreementId\": \"AGR-2025-0612\",\n    \"clientName\": \"Acme Corporation\",\n    \"clientAddress\": \"123 Client Street, Business City, BC 12345\",\n    \"clientEmail\": \"contact@acmecorp.com\",\n    \"clientPhone\": \"(555) 123-4567\",\n    \"clientTitle\": \"Chief Executive Officer\",\n    \"companyName\": \"Professional Services LLC\",\n    \"companyAddress\": \"456 Provider Avenue, Service City, SC 54321\",\n    \"companyEmail\": \"info@proservices.com\",\n    \"companyPhone\": \"(555) 987-6543\",\n    \"providerName\": \"Jane Provider\",\n    \"providerTitle\": \"Managing Director\",\n    \"service1\": \"Strategic consulting for business development\",\n    \"service2\": \"Market analysis and competitive positioning\",\n    \"service3\": \"Implementation support and project management\",\n    \"startDate\": \"June 15, 2025\",\n    \"endDate\": \"December 15, 2025\",\n    \"totalFee\": \"15,000\",\n    \"paymentSchedule\": \"50% upfront, 25% at midpoint, 25% upon completion\",\n    \"paymentDue\": \"15\",\n    \"lateFeePercentage\": \"1.5\",\n    \"terminationNotice\": \"30\",\n    \"witnessName\": \"Sam Witness\",\n    \"recipients\": [\n      {\n        \"name\": \"Acme Corporation\",\n        \"email\": \"{{recipientEmail}}\",\n        \"title\": \"Client\"\n      },\n      {\n        \"name\": \"Jane Provider\",\n        \"email\": \"jane.provider@example.com\",\n        \"title\": \"Service Provider\"\n      },\n      {\n        \"name\": \"Sam Witness\",\n        \"email\": \"sam.witness@example.com\",\n        \"title\": \"Witness\"\n      }\n    ]\n  },\n  \"signingFlow\": \"SEQUENTIAL\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": "{{baseUrl}}/api/documents/upload-and-send",
                "description": "**Method 3: Document URL + Inline JSON**\n\nDownload document from URL and provide JSON data inline.\n\nüíæ **How to use:**\n1. Set Content-Type to application/json\n2. Provide documentUrl and jsonData in the request body\n3. Include recipients and template data in jsonData\n4. Click Send\n\n‚úÖ **Perfect for:** API integrations and programmatic usage"
              }
            }
          ],
          "description": "# üöÄ UNIFIED ENDPOINT - All Three Upload Methods\n\nThis single endpoint `/api/documents/upload-and-send` supports **all three upload methods** in one unified interface. All methods perform the same operations:\n\n1. **Upload/Download** the document\n2. **Process** template variables\n3. **Prepare** for signature\n4. **Send** to Adobe Sign\n5. **Store** signing URLs\n\n**Choose the method that best fits your workflow:**\n\n## üìÑ **Method 1: File Upload + JSON File**\n- Traditional file upload from computer\n- Perfect for manual workflows\n- Uses multipart/form-data\n\n## üåê **Method 2: Document URL + JSON Files**\n- Download document from URL\n- Upload multiple JSON files (auto-combined)\n- Great for distributed data sources\n\n## üíæ **Method 3: Document URL + Inline JSON**\n- Download document from URL\n- Provide JSON data in request body\n- Perfect for API integrations\n\n**All methods produce the same response format and perform the complete workflow in one call!**"
        },
        {
          "name": "Get All Documents",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": "{{baseUrl}}/api/documents"
          }
        },
        {
          "name": "Get Document Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": "{{baseUrl}}/api/documents/{{documentId}}"
          }
        }
      ]
    },
    {
      "name": "Signature Workflow",
      "item": [
        {
          "name": "Check Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": "{{baseUrl}}/api/documents/{{documentId}}/status"
          },
          "response": []
        },
        {
          "name": "Download Document",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": "{{baseUrl}}/api/documents/{{documentId}}/download"
          }
        },
        {
          "name": "Send Reminder to Unsigned Recipients",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.pendingRecipients) {",
                  "        console.log('‚úÖ Reminder API call successful - sent to', response.data.pendingRecipients.length, 'pending recipients');",
                  "        response.data.pendingRecipients.forEach(recipient => {",
                  "            console.log('- ' + recipient.email + ' (' + recipient.status + ')');",
                  "        });",
                  "        console.log('');",
                  "        console.log('‚ö†Ô∏è  IMPORTANT: Adobe Sign API reminder endpoints may return 404 errors.');",
                  "        console.log('üìß For reliable reminders, use Adobe Sign web interface:');",
                  "        console.log('   1. Go to: https://echosign.adobe.com/');",
                  "        console.log('   2. Click \"Manage\" tab');",
                  "        console.log('   3. Find your document and click \"Send Reminder\"');",
                  "        console.log('   4. Adobe will email all unsigned recipients automatically');",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Reminder API call failed:', pm.response.json().message);",
                  "    console.log('');",
                  "    console.log('üí° ALTERNATIVE SOLUTION:');",
                  "    console.log('Use Adobe Sign web interface for 100% reliable reminders:');",
                  "    console.log('https://echosign.adobe.com/ ‚Üí Manage ‚Üí Find Document ‚Üí Send Reminder');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Please complete your signature for this important document. Your prompt attention is appreciated.\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/documents/{{documentId}}/send-reminder",
            "description": "üìß **Send Reminder to Unsigned Recipients**\n\n‚úÖ **What this endpoint does:**\n‚Ä¢ Identifies recipients who haven't signed yet using enhanced detection\n‚Ä¢ Attempts to send reminders via Adobe Sign's API\n‚Ä¢ Returns success response with pending recipient details\n‚Ä¢ Gracefully handles Adobe Sign API failures\n\n‚ö†Ô∏è **IMPORTANT KNOWN ISSUE:**\nAdobe Sign's reminder API endpoints currently return 404 \"Resource not found\" errors. This is an Adobe Sign API issue, not a problem with your system.\n\nüéØ **RECOMMENDED SOLUTION:**\nFor 100% reliable reminders, use Adobe Sign's web interface:\n1. Go to: https://echosign.adobe.com/\n2. Click \"Manage\" tab\n3. Find documents with \"Out for Signature\" status\n4. Click on document ‚Üí \"Send Reminder\"\n5. Adobe automatically emails all unsigned recipients\n\nüí° **Why web interface works better:**\n‚Ä¢ 100% reliable - no API issues\n‚Ä¢ Professional emails from Adobe's verified servers\n‚Ä¢ No spam problems - high deliverability\n‚Ä¢ Direct signing links included automatically\n‚Ä¢ Delivery tracking built-in\n\nüîß **This endpoint still works correctly for:**\n‚Ä¢ Identifying unsigned recipients\n‚Ä¢ Logging reminder attempts\n‚Ä¢ Tracking reminder history\n‚Ä¢ System integration workflows"
          }
        }
      ]
    },
    {
      "name": "Transaction Management",
      "description": "üîÑ **TRANSACTION MANAGEMENT SYSTEM**\n\nComprehensive transaction tracking, management, and analytics for your e-signature workflows.\n\nüéØ **Key Features:**\n‚Ä¢ Create and track signature transactions\n‚Ä¢ Monitor participant status and progress\n‚Ä¢ Send automated reminders to pending signers\n‚Ä¢ Generate analytics and reports\n‚Ä¢ Bulk operations for multiple transactions\n‚Ä¢ Integration with Adobe Sign agreements\n\nüìä **Transaction Lifecycle:**\n1. **Created** - Transaction initiated\n2. **Sent** - Sent to Adobe Sign\n3. **In Progress** - Participants signing\n4. **Completed** - All signatures collected\n5. **Cancelled** - Transaction cancelled\n6. **Expired** - Transaction expired\n\n‚ö†Ô∏è **Authentication Required:** All transaction endpoints require a valid API key with appropriate permissions.",
      "item": [
        {
          "name": "Create Transaction",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data) {",
                  "        pm.collectionVariables.set('transactionId', response.data.transactionId);",
                  "        console.log('‚úÖ Transaction created successfully');",
                  "        console.log('üÜî Transaction ID:', response.data.transactionId);",
                  "        console.log('üìÑ Document ID:', response.data.documentId);",
                  "        console.log('üë• Participants:', response.data.participants.length);",
                  "        console.log('üìä Status:', response.data.status);",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to create transaction');",
                  "    const response = pm.response.json();",
                  "    console.log('üîç Error:', response.message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactionId\": \"TXN-{{$randomUUID}}\",\n  \"documentId\": \"{{testDocumentId}}\",\n  \"status\": \"initiated\",\n  \"participants\": [\n    {\n      \"name\": \"John Doe\",\n      \"email\": \"john.doe@example.com\",\n      \"role\": \"signer\",\n      \"status\": \"pending\"\n    },\n    {\n      \"name\": \"Jane Smith\",\n      \"email\": \"jane.smith@example.com\",\n      \"role\": \"signer\",\n      \"status\": \"pending\"\n    }\n  ],\n  \"reminderSettings\": {\n    \"enabled\": true,\n    \"frequency\": \"weekly\",\n    \"maxReminders\": 3\n  },\n  \"deadlines\": {\n    \"signatureDeadline\": \"2025-08-15T23:59:59.000Z\"\n  },\n  \"notes\": \"Important contract requiring signatures from both parties\",\n  \"tags\": [\"contract\", \"urgent\", \"Q3-2025\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/transactions",
            "description": "üìù **Create New Transaction**\n\nCreate a new signature transaction to track the signing process.\n\n‚úÖ **Required Fields:**\n‚Ä¢ `transactionId` - Unique identifier for the transaction\n‚Ä¢ `documentId` - Reference to the document to be signed\n\nüìã **Optional Fields:**\n‚Ä¢ `participants` - Array of signers with their details\n‚Ä¢ `reminderSettings` - Configuration for automated reminders\n‚Ä¢ `deadlines` - Signature and reminder deadlines\n‚Ä¢ `notes` - Additional notes about the transaction\n‚Ä¢ `tags` - Tags for categorization and filtering\n\nüîß **Features:**\n‚Ä¢ Validates document existence\n‚Ä¢ Sets up reminder schedules\n‚Ä¢ Tracks participant status\n‚Ä¢ Generates transaction timeline"
          }
        },
        {
          "name": "Get All Transactions",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data) {",
                  "        console.log('‚úÖ Transactions retrieved successfully');",
                  "        console.log('üìä Total transactions:', response.data.totalDocs);",
                  "        console.log('üìÑ Current page:', response.data.page);",
                  "        console.log('üìã Transactions on this page:', response.data.docs.length);",
                  "        ",
                  "        if (response.data.docs.length > 0) {",
                  "            console.log('\\nüìë Sample transactions:');",
                  "            response.data.docs.slice(0, 3).forEach((txn, index) => {",
                  "                console.log(`${index + 1}. ${txn.transactionId} - ${txn.status} (${txn.participants.length} participants)`);",
                  "            });",
                  "        }",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to retrieve transactions');",
                  "    const response = pm.response.json();",
                  "    console.log('üîç Error:', response.message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/transactions?page=1&limit=10&sortBy=createdAt&sortOrder=desc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "transactions"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number for pagination"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Number of transactions per page"
                },
                {
                  "key": "sortBy",
                  "value": "createdAt",
                  "description": "Field to sort by (createdAt, updatedAt, status, transactionId)"
                },
                {
                  "key": "sortOrder",
                  "value": "desc",
                  "description": "Sort order (asc or desc)"
                },
                {
                  "key": "status",
                  "value": "",
                  "description": "Filter by status (initiated, sent, in_progress, completed, cancelled, expired)",
                  "disabled": true
                },
                {
                  "key": "participantEmail",
                  "value": "",
                  "description": "Filter by participant email",
                  "disabled": true
                },
                {
                  "key": "tags",
                  "value": "",
                  "description": "Filter by tags (comma-separated)",
                  "disabled": true
                }
              ]
            },
            "description": "üìã **Get All Transactions**\n\nRetrieve all transactions with optional filtering and pagination.\n\nüîç **Query Parameters:**\n‚Ä¢ `page` - Page number (default: 1)\n‚Ä¢ `limit` - Items per page (default: 10)\n‚Ä¢ `sortBy` - Sort field (createdAt, updatedAt, status, transactionId)\n‚Ä¢ `sortOrder` - Sort direction (asc, desc)\n‚Ä¢ `status` - Filter by transaction status\n‚Ä¢ `participantEmail` - Filter by participant email\n‚Ä¢ `tags` - Filter by tags (comma-separated)\n\nüìä **Response Format:**\n‚Ä¢ Paginated results with metadata\n‚Ä¢ Total count and page information\n‚Ä¢ Populated document and creator details"
          }
        },
        {
          "name": "Get Transaction by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data) {",
                  "        console.log('‚úÖ Transaction details retrieved successfully');",
                  "        console.log('üÜî Transaction ID:', response.data.transactionId);",
                  "        console.log('üìä Status:', response.data.status);",
                  "        console.log('üë• Participants:', response.data.participants.length);",
                  "        console.log('üìÖ Created:', new Date(response.data.createdAt).toLocaleDateString());",
                  "        console.log('üìù Notes:', response.data.notes);",
                  "        ",
                  "        if (response.data.participants.length > 0) {",
                  "            console.log('\\nüë§ Participants:');",
                  "            response.data.participants.forEach((p, index) => {",
                  "                console.log(`${index + 1}. ${p.name} (${p.email}) - ${p.status}`);",
                  "            });",
                  "        }",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to retrieve transaction');",
                  "    const response = pm.response.json();",
                  "    console.log('üîç Error:', response.message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": "{{baseUrl}}/api/transactions/{{transactionId}}",
            "description": "üîç **Get Transaction Details**\n\nRetrieve detailed information about a specific transaction.\n\n‚úÖ **Response Includes:**\n‚Ä¢ Complete transaction details\n‚Ä¢ Participant status and information\n‚Ä¢ Document information (populated)\n‚Ä¢ Timeline and activity history\n‚Ä¢ Reminder settings and history\n‚Ä¢ Tags and metadata\n\nüìã **Use Cases:**\n‚Ä¢ Check transaction status\n‚Ä¢ Review participant progress\n‚Ä¢ Monitor signing workflow\n‚Ä¢ Generate status reports"
          }
        },
        {
          "name": "Update Transaction",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data) {",
                  "        console.log('‚úÖ Transaction updated successfully');",
                  "        console.log('üÜî Transaction ID:', response.data.transactionId);",
                  "        console.log('üìä New Status:', response.data.status);",
                  "        console.log('üìÖ Last Updated:', new Date(response.data.updatedAt).toLocaleString());",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to update transaction');",
                  "    const response = pm.response.json();",
                  "    console.log('üîç Error:', response.message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"in_progress\",\n  \"notes\": \"Updated: Document sent to all participants for signature\",\n  \"participants\": [\n    {\n      \"name\": \"John Doe\",\n      \"email\": \"john.doe@example.com\",\n      \"role\": \"signer\",\n      \"status\": \"signed\",\n      \"signedAt\": \"2025-07-10T10:30:00.000Z\"\n    },\n    {\n      \"name\": \"Jane Smith\",\n      \"email\": \"jane.smith@example.com\",\n      \"role\": \"signer\",\n      \"status\": \"pending\"\n    }\n  ],\n  \"adobeAgreementId\": \"CBJCHBCAABAAqnHRBWWP7YqePS4V6gTl\",\n  \"tags\": [\"contract\", \"urgent\", \"Q3-2025\", \"in-progress\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/transactions/{{transactionId}}",
            "description": "‚úèÔ∏è **Update Transaction**\n\nUpdate transaction details, status, and participant information.\n\nüìù **Updatable Fields:**\n‚Ä¢ `status` - Transaction status\n‚Ä¢ `participants` - Participant details and status\n‚Ä¢ `adobeAgreementId` - Adobe Sign agreement ID\n‚Ä¢ `notes` - Additional notes\n‚Ä¢ `tags` - Transaction tags\n‚Ä¢ `reminderSettings` - Reminder configuration\n‚Ä¢ `deadlines` - Signature deadlines\n\nüîß **Use Cases:**\n‚Ä¢ Update signing status when participants sign\n‚Ä¢ Add Adobe Sign agreement ID after sending\n‚Ä¢ Modify deadline dates\n‚Ä¢ Update participant information\n‚Ä¢ Add progress notes"
          }
        },
        {
          "name": "Delete Transaction",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success) {",
                  "        console.log('‚úÖ Transaction deleted successfully');",
                  "        console.log('üóëÔ∏è Transaction has been marked as inactive');",
                  "        console.log('üìã This is a soft delete - data is preserved for audit purposes');",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to delete transaction');",
                  "    const response = pm.response.json();",
                  "    console.log('üîç Error:', response.message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": "{{baseUrl}}/api/transactions/{{transactionId}}",
            "description": "üóëÔ∏è **Delete Transaction**\n\nSoft delete a transaction (marks as inactive).\n\n‚ö†Ô∏è **Important Notes:**\n‚Ä¢ This is a soft delete - transaction data is preserved\n‚Ä¢ Transaction becomes inactive and won't appear in normal listings\n‚Ä¢ Audit trail and history are maintained\n‚Ä¢ Use for cancelled or error transactions\n\nüîß **Security:**\n‚Ä¢ Requires appropriate API key permissions\n‚Ä¢ Cannot delete transactions with active Adobe Sign agreements\n‚Ä¢ Logs all deletion activities"
          }
        },
        {
          "name": "Send Reminder",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data) {",
                  "        console.log('‚úÖ Reminder sent successfully');",
                  "        console.log('üìß Recipients:', response.data.remindersSent);",
                  "        console.log('üë• Pending participants:', response.data.pendingParticipants);",
                  "        console.log('üìä Total reminders sent for this transaction:', response.data.totalRemindersSent);",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to send reminder');",
                  "    const response = pm.response.json();",
                  "    console.log('üîç Error:', response.message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Please complete your signature for this important document. Your prompt attention is appreciated.\",\n  \"participantEmails\": []\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/transactions/{{transactionId}}/reminder",
            "description": "üìß **Send Transaction Reminder**\n\nSend reminder notifications to pending participants.\n\nüìù **Request Body:**\n‚Ä¢ `message` - Custom reminder message (optional)\n‚Ä¢ `participantEmails` - Specific participants to remind (optional, empty = all pending)\n\n‚úÖ **Features:**\n‚Ä¢ Automatically identifies pending participants\n‚Ä¢ Respects reminder frequency limits\n‚Ä¢ Updates reminder history and counts\n‚Ä¢ Integrates with Adobe Sign reminder API\n‚Ä¢ Fallback to email notifications\n\nüîß **Smart Logic:**\n‚Ä¢ Only sends to participants with 'pending' status\n‚Ä¢ Checks maximum reminder limits\n‚Ä¢ Respects frequency settings (daily, weekly, etc.)\n‚Ä¢ Logs all reminder activities"
          }
        },
        {
          "name": "Get Transaction Analytics",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data) {",
                  "        const analytics = response.data;",
                  "        console.log('‚úÖ Transaction analytics retrieved successfully');",
                  "        console.log('');",
                  "        console.log('üìä OVERVIEW:');",
                  "        console.log('‚Ä¢ Total Transactions:', analytics.overview.totalTransactions);",
                  "        console.log('‚Ä¢ Active Transactions:', analytics.overview.activeTransactions);",
                  "        console.log('‚Ä¢ Completed:', analytics.overview.completedTransactions);",
                  "        console.log('‚Ä¢ Pending:', analytics.overview.pendingTransactions);",
                  "        console.log('');",
                  "        console.log('üìà STATUS BREAKDOWN:');",
                  "        analytics.statusBreakdown.forEach(status => {",
                  "            console.log(`‚Ä¢ ${status._id}: ${status.count}`);",
                  "        });",
                  "        console.log('');",
                  "        console.log('‚è±Ô∏è PERFORMANCE:');",
                  "        console.log('‚Ä¢ Avg Completion Time:', analytics.performance.averageCompletionTime, 'hours');",
                  "        console.log('‚Ä¢ Completion Rate:', analytics.performance.completionRate + '%');",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Failed to retrieve analytics');",
                  "    const response = pm.response.json();",
                  "    console.log('üîç Error:', response.message);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/transactions/analytics?startDate=2025-01-01&endDate=2025-12-31",
              "host": ["{{baseUrl}}"],
              "path": ["api", "transactions", "analytics"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Start date for analytics (YYYY-MM-DD)"
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31",
                  "description": "End date for analytics (YYYY-MM-DD)"
                }
              ]
            },
            "description": "üìä **Transaction Analytics**\n\nGenerate comprehensive analytics and reports for transactions.\n\nüìà **Analytics Include:**\n‚Ä¢ Transaction overview and counts\n‚Ä¢ Status breakdown and distribution\n‚Ä¢ Completion rates and performance metrics\n‚Ä¢ Average completion times\n‚Ä¢ Participant statistics\n‚Ä¢ Reminder effectiveness\n‚Ä¢ Time-based trends\n\nüîç **Query Parameters:**\n‚Ä¢ `startDate` - Start date for analysis (YYYY-MM-DD)\n‚Ä¢ `endDate` - End date for analysis (YYYY-MM-DD)\n\nüí° **Use Cases:**\n‚Ä¢ Performance monitoring\n‚Ä¢ Process optimization\n‚Ä¢ Reporting and dashboards\n‚Ä¢ Business intelligence\n‚Ä¢ Trend analysis"
          }
        },
        {
          "name": "Bulk Operations",
          "item": [
            {
              "name": "Bulk Update Status",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200) {",
                      "    const response = pm.response.json();",
                      "    if (response.success && response.data) {",
                      "        console.log('‚úÖ Bulk update completed successfully');",
                      "        console.log('üìä Updated transactions:', response.data.modifiedCount);",
                      "        console.log('üéØ Matched transactions:', response.data.matchedCount);",
                      "        console.log('‚ö° Operation completed in:', response.data.executionTime + 'ms');",
                      "    }",
                      "} else {",
                      "    console.log('‚ùå Bulk update failed');",
                      "    const response = pm.response.json();",
                      "    console.log('üîç Error:', response.message);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "X-API-Key",
                    "value": "{{apiKey}}",
                    "description": "API Key for authentication"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"filter\": {\n    \"status\": \"initiated\",\n    \"createdAt\": {\n      \"$gte\": \"2025-07-01T00:00:00.000Z\",\n      \"$lte\": \"2025-07-31T23:59:59.999Z\"\n    }\n  },\n  \"updates\": {\n    \"status\": \"sent\",\n    \"notes\": \"Bulk updated: Status changed from initiated to sent\",\n    \"tags\": [\"bulk-updated\", \"july-2025\"]\n  }\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": "{{baseUrl}}/api/transactions/bulk/update",
                "description": "‚ö° **Bulk Update Transactions**\n\nUpdate multiple transactions in a single operation.\n\nüìù **Request Body:**\n‚Ä¢ `filter` - MongoDB filter to select transactions\n‚Ä¢ `updates` - Fields to update on matching transactions\n\nüîß **Common Use Cases:**\n‚Ä¢ Update status for multiple transactions\n‚Ä¢ Add tags to batches of transactions\n‚Ä¢ Bulk modify deadline dates\n‚Ä¢ Update reminder settings\n\n‚ö†Ô∏è **Safety Features:**\n‚Ä¢ Validates filter criteria\n‚Ä¢ Prevents accidental full collection updates\n‚Ä¢ Logs all bulk operations\n‚Ä¢ Returns detailed operation results"
              }
            },
            {
              "name": "Bulk Send Reminders",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200) {",
                      "    const response = pm.response.json();",
                      "    if (response.success && response.data) {",
                      "        console.log('‚úÖ Bulk reminders sent successfully');",
                      "        console.log('üìß Transactions processed:', response.data.processedTransactions);",
                      "        console.log('üì¨ Total reminders sent:', response.data.totalRemindersSent);",
                      "        console.log('‚è≠Ô∏è Skipped transactions:', response.data.skippedTransactions);",
                      "        console.log('‚ö° Operation completed in:', response.data.executionTime + 'ms');",
                      "        ",
                      "        if (response.data.results && response.data.results.length > 0) {",
                      "            console.log('\\nüìã Transaction Results:');",
                      "            response.data.results.slice(0, 5).forEach((result, index) => {",
                      "                console.log(`${index + 1}. ${result.transactionId}: ${result.remindersSent} reminders sent`);",
                      "            });",
                      "        }",
                      "    }",
                      "} else {",
                      "    console.log('‚ùå Bulk reminder operation failed');",
                      "    const response = pm.response.json();",
                      "    console.log('üîç Error:', response.message);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "X-API-Key",
                    "value": "{{apiKey}}",
                    "description": "API Key for authentication"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"filter\": {\n    \"status\": {\n      \"$in\": [\"sent\", \"in_progress\"]\n    },\n    \"isActive\": true\n  },\n  \"message\": \"Friendly reminder: Please complete your document signature at your earliest convenience.\",\n  \"options\": {\n    \"respectFrequency\": true,\n    \"maxRemindersPerTransaction\": 3\n  }\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": "{{baseUrl}}/api/transactions/bulk/reminders",
                "description": "üìß **Bulk Send Reminders**\n\nSend reminder notifications to multiple transactions at once.\n\nüìù **Request Body:**\n‚Ä¢ `filter` - Select transactions to process\n‚Ä¢ `message` - Custom reminder message\n‚Ä¢ `options` - Reminder behavior settings\n\n‚öôÔ∏è **Options:**\n‚Ä¢ `respectFrequency` - Honor individual reminder frequency settings\n‚Ä¢ `maxRemindersPerTransaction` - Limit reminders per transaction\n\nüéØ **Smart Features:**\n‚Ä¢ Only processes transactions with pending participants\n‚Ä¢ Respects individual reminder limits and frequency\n‚Ä¢ Handles rate limiting and API quotas\n‚Ä¢ Provides detailed results for each transaction\n\nüí° **Use Cases:**\n‚Ä¢ Weekly reminder campaigns\n‚Ä¢ Deadline approaching notifications\n‚Ä¢ Follow-up for stalled transactions"
              }
            }
          ],
          "description": "‚ö° **BULK OPERATIONS**\n\nPerform operations on multiple transactions simultaneously for efficient workflow management.\n\nüîß **Available Operations:**\n‚Ä¢ Bulk status updates\n‚Ä¢ Mass reminder sending\n‚Ä¢ Batch tag management\n‚Ä¢ Deadline modifications\n\n‚úÖ **Benefits:**\n‚Ä¢ Save time with batch processing\n‚Ä¢ Consistent updates across transactions\n‚Ä¢ Efficient resource utilization\n‚Ä¢ Detailed operation results"
        }
      ]
    },
    {
      "name": "Webhooks",
      "description": "üîî **WEBHOOK INTEGRATION**\n\nWebhooks enable real-time updates when documents are signed, viewed, or declined. Configure Adobe Sign to send events to your application.\n\nüìã **Key Features:**\n‚Ä¢ Automatic status updates when documents are signed\n‚Ä¢ Real-time tracking of document views and interactions\n‚Ä¢ Automatic timestamp recording when signatures are completed\n‚Ä¢ Support for signature delegation and declining\n\n‚úÖ **Supported Events:**\n‚Ä¢ Document signed\n‚Ä¢ Document viewed\n‚Ä¢ Document declined\n‚Ä¢ Signature delegated to another person\n\n‚ö†Ô∏è **Important:** For webhooks to work, your server must be publicly accessible or use a secure tunnel service like ngrok.",
      "item": [
        {
          "name": "Setup Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "description": "API Key for authentication"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"webhookUrl\": \"https://your-domain.com/api/webhooks/adobe-sign\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/webhooks/setup",
            "description": "üîß **Setup Adobe Sign Webhook**: Configure Adobe Sign to send events to your application when documents are signed, viewed, or declined.\n\n‚úÖ **Key Features**:\n‚Ä¢ Registers your webhook URL with Adobe Sign\n‚Ä¢ Configures event types to be received (signing, viewing, declining)\n‚Ä¢ Activates the webhook immediately\n\nüìã **Required Parameters**:\n‚Ä¢ `webhookUrl`: The full URL where Adobe Sign should send events (must be publicly accessible)\n\n‚ö†Ô∏è **Important**: Your server must be publicly accessible for webhooks to work. If testing locally, use a service like ngrok to create a secure tunnel."
          },
          "response": []
        },
        {
          "name": "Test Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"AGREEMENT_ACTION_COMPLETED\",\n  \"agreement\": {\n    \"id\": \"test-agreement-id\",\n    \"name\": \"Test Agreement\",\n    \"status\": \"SIGNED\"\n  },\n  \"participant\": {\n    \"email\": \"{{recipientEmail}}\",\n    \"name\": \"Test User\",\n    \"status\": \"SIGNED\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/webhooks/adobe-sign",
            "description": "üß™ **Test Webhook Reception**: Send a simulated Adobe Sign event to test your webhook handling.\n\n‚úÖ **Key Features**:\n‚Ä¢ Simulates a document signing event\n‚Ä¢ Tests your webhook handler's response\n‚Ä¢ No authentication required (Adobe Sign doesn't authenticate)\n\nüìã **Customizable Parameters**:\n‚Ä¢ `event`: The type of event (AGREEMENT_ACTION_COMPLETED, AGREEMENT_SIGNED, etc.)\n‚Ä¢ `agreement`: Information about the signed document\n‚Ä¢ `participant`: Information about the signer\n\n‚ö†Ô∏è **Note**: This endpoint is for testing only. In production, Adobe Sign will call this endpoint automatically when events occur."
          },
          "response": []
        }
      ]
    }
  ]
}
